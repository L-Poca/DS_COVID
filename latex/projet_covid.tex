\textbf{
}\includegraphics[width=4.9375in,height=1.21875in]{media/image1.png}

Analyse de Radiographies pulmonaires Covid-19

\includegraphics[width=4.39583in,height=2.92708in]{media/image2.png}

Pr√©sent√© par : Encadr√© par :

\begin{itemize}
\tightlist
\item
  Cirine Bouamrane Nicolas Mormiche
\item
  L√©na Bacot
\item
  Steven Moire
\item
  Rafael Cepa
\end{itemize}

\begin{quote}
Sommaire :
\end{quote}

\begin{quote}
\end{quote}

\section[Introduction
:]{\texorpdfstring{\protect\hypertarget{anchor}{}{}\protect\hypertarget{anchor-1}{}{}\protect\hypertarget{anchor-2}{}{}Introduction
:}{Introduction :}}\label{introduction}

Afin d'identifier plus facilement les cas positifs de Covid-19,
l'analyse automatis√©e des radiographies pulmonaires appara√Æt comme une
alternative pr√©cieuse, notamment lorsque les tests conventionnels ne
sont pas disponibles. L'utilisation du deep learning appliqu√© √† ces
images a d√©j√† montr√© des r√©sultats prometteurs pour d√©tecter les
infections √† Covid-19, parfois avec une pr√©cision sup√©rieure √† celle de
radiologues exp√©riment√©s.

L'objectif de notre projet est donc de concevoir un syst√®me de
classification binaire permettant de distinguer entre patients atteints
et non atteints du Covid-19 √† partir de radiographies thoraciques.

\section[Etape 1 : Exploration des donn√©es et
DataViz']{\texorpdfstring{\protect\hypertarget{anchor-3}{}{}\protect\hypertarget{anchor-4}{}{}\protect\hypertarget{anchor-5}{}{}Etape
1 : Exploration des donn√©es et
DataViz'}{Etape 1 : Exploration des donn√©es et DataViz'}}\label{etape-1-exploration-des-donnuxe9es-et-dataviz}

\subsection[Base de donn√©es
:]{\texorpdfstring{\protect\hypertarget{anchor-6}{}{}\protect\hypertarget{anchor-7}{}{}\protect\hypertarget{anchor-8}{}{}Base
de donn√©es :}{Base de donn√©es :}}\label{base-de-donnuxe9es}

La base de donn√©es utilis√©e pour ce projet est la COVID-19 Radiography
Database accessible sur Kaggle. Cette base de donn√©es regroupe
diff√©rentes cat√©gories d\textquotesingle images radiographiques
pulmonaires permettant la d√©tection et la classification des infections,
notamment du Covid-19. Elle inclut :

\begin{itemize}
\tightlist
\item
  Des radiographies thoraciques de patients confirm√©s positifs au
  Covid-19.
\item
  Des images de cas jug√©s normaux (sans infection pulmonaire d√©tect√©e).
\item
  Des radiographies de pneumonies virales autres que Covid-19.
\item
  Des images pr√©sentant des opacit√©s pulmonaires (infections pulmonaires
  non-COVID de type "Lung Opacity").
\end{itemize}

Les tailles des sous-ensembles composant la base de donn√©es sont
repr√©sent√©es dans le tableau suivant~:

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
Classes & Images & Masks \\
Covid & 3616 & 3616 \\
Normal & 10192 & 10192 \\
Viral\_pneumonia & 1345 & 1345 \\
Lung\_opacity & 6012 & 6012 \\
\end{longtable}

Ces images proviennent de multiples sources publiques, publications
sp√©cialis√©es et collaborations avec des h√¥pitaux.

Un exemple d'une image de la classe normale et son mask sont
repr√©sent√©es dans la figure ci-dessous (Figure01).

\includegraphics[width=2.78001in,height=3.21864in]{media/image3.png}\includegraphics[width=3.0836in,height=3.18361in]{media/image4.png}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\textbf{ }
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\textbf{Figure 01 : }Exemple d'une image de la base de donn√©es et son
mask (classe nomal)
\end{quote}

\subsection[Dataviz'
:]{\texorpdfstring{\protect\hypertarget{anchor-9}{}{}\protect\hypertarget{anchor-10}{}{}\protect\hypertarget{anchor-11}{}{}Dataviz'
:}{Dataviz' :}}\label{dataviz}

Histogramme de la luminosit√© et du contraste :

\begin{quote}
\end{quote}

\begin{itemize}
\tightlist
\item
  \textbf{Luminosit√©~:}\\
  Il s'agit de l'intensit√© lumineuse globale d'une image, c'est-√†-dire
  du niveau moyen de clart√© ou d'obscurit√© per√ßu sur l'ensemble de
  l'image. Math√©matiquement, c'est simplement la moyenne des valeurs des
  canaux de chaque pixel. Pour une image en couleurs (RGB), on utilise
  la pond√©ration de la norme ITU-R BT.601, correspondant √† la
  sensibilit√© de l'≈ìil humain (0.299 pour R, 0.587 pour G, 0.114 pour
  B).
\item
  \textbf{Contraste~:}\\
  Le contraste repr√©sente la diff√©rence de luminosit√© entre les zones
  claires et sombres d'une image. Math√©matiquement, c'est l'√©cart-type
  (std) de la valeur des pixels. Un contraste √©lev√© signifie que la
  diff√©rence entre les parties les plus sombres et les plus claires est
  importante~; √† l'inverse, un faible contraste indique que les valeurs
  de gris sont proches les unes des autres, rendant les d√©tails moins
  visibles.
\end{itemize}

Un histogramme de luminosit√© et de contraste fournit des informations
essentielles sur la r√©partition des tons et la qualit√© d'exposition
d'une image, l'histogramme permet de juger de la bonne exposition, du
niveau de contraste, de rep√©rer d'√©ventuelles pertes d'information, et
de guider les ajustements √† apporter pour optimiser une image.

Il indique comment les pixels de l'image sont r√©partis des tons les plus
fonc√©s (gauche) aux plus clairs (droite)~:

\begin{itemize}
\tightlist
\item
  √Ä gauche~: pixels sombres (ombres, noirs)
\item
  Au centre~: tons moyens (gris)
\item
  √Ä droite~: pixels clairs (hautes lumi√®res, blancs)
\end{itemize}

Il permet d'identifier~:

\begin{itemize}
\tightlist
\item
  Une sous-exposition (pic vers la gauche~: image trop sombre)
\item
  Une surexposition (pic vers la droite~: image trop claire)
\item
  Un bon contraste (r√©partition √©tal√©e de la gauche √† la droite~:
  l'image contient √† la fois des zones sombres et claires, donc beaucoup
  de d√©tails)
\item
  Un faible contraste (histogramme ramen√© vers le centre, l'image para√Æt
  ``plate'' avec surtout des tons moyens)
\end{itemize}

L'histogramme aide aussi √†~:

\begin{itemize}
\tightlist
\item
  √âviter l'√©cr√™tage~: apparition de barres hautes √† l'extr√™me gauche ou
  droite, signalant une perte d'information dans les ombres ou les
  hautes lumi√®res.
\item
  Ajuster la correction de la luminosit√© et du contraste pour am√©liorer
  la lisibilit√© ou la qualit√© technique de l'image.
\end{itemize}

Nous avons g√©n√©r√© les histogrammes de luminosit√© pour chaque cat√©gorie
d'images (normal, Covid, pneumonie et lung). Les r√©sultats
correspondants sont illustr√©s dans les figures suivantes :

\begin{quote}
\includegraphics[width=5.63542in,height=2.25in]{media/image5.png}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\includegraphics[width=5.65625in,height=2.19792in]{media/image6.png}

\includegraphics[width=5.70833in,height=2.48958in]{media/image7.png}

\includegraphics[width=5.79167in,height=2.34375in]{media/image8.png}

\textbf{Figure 02 : }Histogramme de la luminosit√© et du contraste des
diff√©rentes images de la dataset

\subsection[Interpr√©tation
:]{\texorpdfstring{\protect\hypertarget{anchor-12}{}{}Interpr√©tation
:}{Interpr√©tation :}}\label{interpruxe9tation}

A savoir :

\begin{itemize}
\tightlist
\item
  \textbf{Axe horizontal~:} les\textbf{ }valeurs de gris, de 0 (noir) √†
  255 (blanc).
\item
  \textbf{Axe vertical~: }nombre d'images.
\end{itemize}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
& Histogramme luminosit√© & Histogramme contraste \\
Image normale & Ton vers le clair & Faible contraste \\
Image covid & Ton vers le clair & Bon contraste \\
Image Pneumo & Ton moyen (gris √©quilibr√©) & Bon contraste \\
Image lung & Ton vers le clair & Bon contraste \\
\end{longtable}

\subsection{\texorpdfstring{Luminosit√© Globale :
}{Luminosit√© Globale : }}\label{luminosituxe9-globale}

Exprime la r√©partition de la luminosit√© des images, pour chaque
cat√©gorie.

\includegraphics[width=6.26042in,height=1.67708in]{media/image9.png}

\textbf{Figure 03 :} Distribution Luminosit√© Globale

\subsection{Contraste Globale :}\label{contraste-globale}

Exprime la r√©partition du contraste des images, pour chaque cat√©gorie.

\includegraphics[width=6.26042in,height=1.67708in]{media/image10.png}\textbf{Figure
04 :} Distribution du contraste Globale

\section[Steven Visualization
:]{\texorpdfstring{\protect\hypertarget{anchor-13}{}{}\protect\hypertarget{anchor-14}{}{}\protect\hypertarget{anchor-15}{}{}Steven
Visualization :}{Steven Visualization :}}\label{steven-visualization}

\includegraphics[width=6.26042in,height=2.84375in]{media/image11.png}

\textbf{Figure 03 :} Visualisation des images en L et en RGB de la
classe Viral Pneumonia

‚ö†Ô∏è 140 images RGB d√©tect√©es (hors norme) sur un total de 1345 images
provenant de Viral Pneumonia.

Apr√®s analyse, nous avons conclu qu'il s'agit en fait de `faux RGB',
c'est √† dire des images encod√©es en 3 canaux, mais repr√©sentant en
r√©alit√© une image L. En effet, quand on a essay√© d'afficher quelques
intrus, nous avions l'impression de voir des niveaux de gris. Pour
chaque intrus `img', convertie en np.array, nous avons :

img\_array{[}:,:,0{]} == img\_array{[}:,:,1{]} == img\_array{[}:,:,2{]}

\includegraphics[width=6.07395in,height=2.86011in]{media/image12.png}

\textbf{Figure 04 :} exemple d'images en RGB de la classe Viral
Pneumonia

Ces 140 images sont bien cod√©es en 3 canaux RGB, mais on a, √† chaque
fois, la m√™me valeur pour les trois canaux, c'est donc une redondance
d'informations, et la conversion en L sera alors encore plus simple.
Pour rappel, une image RGB est convertie en L selon la norme ITU-R
BT.601 (cit√©e plus haut), gr√¢ce √† la formule :

L = 0.299R + 0.587G + 0.114B.

O√π :

\begin{itemize}
\tightlist
\item
  L : valeur du pixel en nuance de gris r√©sultante de la conversion
\item
  R, G, B : valeurs du pixel en RGB que l'on veut convertir
\end{itemize}

Il est donc √©vident ici, qu'avec R = G = B :

L = 0.299R + 0.587R + 0.114R L = R = G = B

Autrement dit, le pixel converti en L n'est autre que la m√™me valeur
commune aux trois channels, on peut donc simplement choisir le premier
canal (R, i.e. img\_array{[}:,:,0{]}) pour `convertir' l'image en L.

Nous avons remarqu√© qu'en r√©alit√©, ce probl√®me est exactement le m√™me
pour les masks, qui sont tous des ``faux RGB''. Pour la suite de notre
projet, nous avons d√©cid√© d'utiliser les fonctions de conversion des
packages reconnus (PIL, cv2 ...), m√™me si utiliser le premier canal (par
exemple) suffirait. En effet, nous voulons tester diff√©rentes approches,
et essayer de comprendre ce qu'apportent ces fonctions. Il nous semblait
cependant important de montrer notre r√©flexion face √† ce
probl√®me.\protect\phantomsection\label{anchor-16}{}\protect\phantomsection\label{anchor-17}{}\protect\phantomsection\label{anchor-18}{}üß†
\textbf{Analyse m√©tier}

\begin{itemize}
\tightlist
\item
  Les radiographies doivent √™tre en niveau de gris (L), car les
  informations pertinentes ne sont pas dans les couleurs.
\item
  La pr√©sence de plusieurs images en RGB est donc anormale.
\item
  Cela peut indiquer des erreurs de traitement ou
  d\textquotesingle export depuis un outil d\textquotesingle annotation.
\end{itemize}

\subsection[üõ†Ô∏è \textbf{Recommandations
techniques}]{\texorpdfstring{\protect\hypertarget{anchor-19}{}{}\protect\hypertarget{anchor-20}{}{}\protect\hypertarget{anchor-21}{}{}üõ†Ô∏è
\textbf{Recommandations
techniques}}{üõ†Ô∏è Recommandations techniques}}\label{recommandations-techniques}

\begin{itemize}
\item
  Identifier les images en RGB et les v√©rifier visuellement.
\item
  Si ce sont bien des radios, les convertir en L via img.convert("L")
  pour :

  \begin{itemize}
  \tightlist
  \item
    Homog√©n√©iser les donn√©es
  \item
    R√©duire la taille m√©moire
  \end{itemize}
\item
  Ces anomalies sont visibles dans le rapport template d'exploration
  automatique g√©n√©r√© (voir lien juste apr√®s).
\end{itemize}

\subsection[Steven Template
:]{\texorpdfstring{\protect\hypertarget{anchor-22}{}{}\protect\hypertarget{anchor-23}{}{}\protect\hypertarget{anchor-24}{}{}Steven
Template :}{Steven Template :}}\label{steven-template}

\href{https://1drv.ms/x/c/9e322a9006fb4eb1/ERjCTdYjnJBFhoRxyeNj00EBlyoYCRADMprJFlOrgObT0Q?e=idyaqO}{\textbf{https://1drv.ms/x/c/9e322a9006fb4eb1/ERjCTdYjnJBFhoRxyeNj00EBlyoYCRADMprJFlOrgObT0Q?e=idyaqO}}

\section[\textbf{Stream lit
Graph}]{\texorpdfstring{\protect\hypertarget{anchor-25}{}{}\protect\hypertarget{anchor-26}{}{}\protect\hypertarget{anchor-27}{}{}\textbf{Stream
lit Graph}}{Stream lit Graph}}\label{stream-lit-graph}

\subsection[Introduction :
]{\texorpdfstring{\protect\hypertarget{anchor-28}{}{}\protect\hypertarget{anchor-29}{}{}Introduction
: }{Introduction : }}\label{introduction-1}

La biblioth√®que StreamLit sur python, nous permet de cr√©er des Dashboard
interactifs.

Ceux-ci ont √©t√© con√ßus afin de nous permettre de cr√©er des outils afin
de faciliter notre collaboration.

Le Stream Lit peut appeler les fonctions en backend pour effectuer
certaines taches dans notre data-workflow et nous pr√©senter des
visualisations d'analyses que l'on a effectu√©.\\
\strut \\
A la suite, vous trouverez un aper√ßu de ces fonctionnalit√©s et un cas
d'application pratique sur notre probl√©matique.

\subsection[\textbf{Outils Collaboratifs :
}]{\texorpdfstring{\protect\hypertarget{anchor-30}{}{}\protect\hypertarget{anchor-31}{}{}\textbf{Outils
Collaboratifs : }}{Outils Collaboratifs : }}\label{outils-collaboratifs}

\subsubsection[Inspection des Fichiers Features :
]{\texorpdfstring{\protect\hypertarget{anchor-32}{}{}\protect\hypertarget{anchor-33}{}{}Inspection
des Fichiers Features :
}{Inspection des Fichiers Features : }}\label{inspection-des-fichiers-features}

Voici un aper√ßu de la fen√™tre d'inspection des fichiers.

\includegraphics[width=6.26042in,height=2.54167in]{media/image13.png}

\textbf{ Figure 05 :} Inspection Fichiers Python Backend

Cet affichage nous permet de voir l'√©volution des fichiers de fonctions
backend d'un simple coup d'≈ìil !

On peut donc voir le nombre de lignes et la validation PEP8, nous
permettant de revoir les fichiers ad√©quats et donc de gagner en
organisation.

\subsubsection[Inspection d√©taill√©e des fonctions dans Features
:]{\texorpdfstring{\protect\hypertarget{anchor-34}{}{}\protect\hypertarget{anchor-35}{}{}Inspection
d√©taill√©e des fonctions dans Features
:}{Inspection d√©taill√©e des fonctions dans Features :}}\label{inspection-duxe9tailluxe9e-des-fonctions-dans-features}

Pour chacun des fichiers d√©tect√©s pr√©c√©demment, on vient scanner toutes
les fonctions (√† l'aide de la librairie Inspect) afin de les afficher.

Ceci sert pour le travail collaboratif afin de rester inform√© de
l'existence des fonctions cr√©e ou mises √† jour par nos √©quipes.

\includegraphics[width=6.26042in,height=2.72917in]{media/image14.png}

\textbf{ Figure 06:} Inspection Fonctions Python Backend

Il est ensuite possible d'afficher un panel d√©taill√© avec toutes les
informations essentielles de la fonction !

Ceci incluant le nom de la fonction, la doc string, le nombre de lignes,
les arguments et la valeur de return.

\includegraphics[width=6.26042in,height=2.90625in]{media/image15.png}
\textbf{Figure 07 :} D√©tail Fonctions Python Backend

\subsection[Analyse Compl√®te (D√©s√©quilibr√©e)
:]{\texorpdfstring{\protect\hypertarget{anchor-36}{}{}\protect\hypertarget{anchor-37}{}{}\protect\hypertarget{anchor-38}{}{}Analyse
Compl√®te (D√©s√©quilibr√©e)
:}{Analyse Compl√®te (D√©s√©quilibr√©e) :}}\label{analyse-compluxe8te-duxe9suxe9quilibruxe9e}

Nous allons utiliser les fonctionnalit√©s de l'interface afin de traiter
et analyser nos donn√©es d'images.

\includegraphics[width=6.26042in,height=3.375in]{media/image16.png}\textbf{Figure
08 :} Menu Principal, s√©lection des donn√©es

On lance une analyse sur l'ensemble des images.

\includegraphics[width=6.26042in,height=1.98958in]{media/image17.png}\textbf{Figure
09 :} Radar Chart, Donn√©es/M√©triques par Cat√©gories

On peut d√©j√† noter visuellement des domaines diff√©rents pour chaque
cat√©gorie.

\textbf{Luminosit√©~/ Intensit√© :} Moyenne des valeurs de pixels, refl√®te
la clart√© globale de l'image.

\textbf{Contraste~:} √âcart-type des valeurs de pixels, mesure la
variation autour de la moyenne.

\textbf{Nettet√©~:} Quantifie la pr√©sence de d√©tails et de contours, via
la fonction Laplacien.

\textbf{Entropie~:} Mesure la diversit√© des intensit√©s, indique la
richesse
d'information.\includegraphics[width=6.26042in,height=1.52083in]{media/image18.png}\textbf{Figure
10 :} Test Anova, diff√©rence entre Cat√©gories

Et l'on confirme ce r√©sultat par un test ANOVA.

\includegraphics[width=6.26042in,height=4.02083in]{media/image19.png}\textbf{Figure
11 :} Taille des fichiers par
cat√©gorie\includegraphics[width=6.26042in,height=3.23047in]{media/image20.png}\textbf{Figure
12 :} Intensit√© par Cat√©gorie

\includegraphics[width=6.26042in,height=1.98958in]{media/image21.png}\textbf{Figure
13 :} Corr√©lation des m√©triques

\includegraphics[width=6.26042in,height=1.98958in]{media/image22.png}\textbf{Figure
14 :} R√©partition des donn√©es dans un espace 3D

\includegraphics[width=6.26042in,height=2.53125in]{media/image23.png}\textbf{Figure
15 :} Recommandations Automatiques

\subsection[Analyse Equilibr√©e
:]{\texorpdfstring{\protect\hypertarget{anchor-39}{}{}\protect\hypertarget{anchor-40}{}{}\protect\hypertarget{anchor-41}{}{}Analyse
Equilibr√©e :}{Analyse Equilibr√©e :}}\label{analyse-equilibruxe9e}

Suite √† cette analyse, on se rend compte que les donn√©es ne sont pas
√©quilibr√©es, on va donc retenter l'analyse avec un √©chantillon de 1000
pour chacune des cat√©gories et voir les diff√©rences sur nos indicateurs.

\includegraphics[width=6.26042in,height=3.38542in]{media/image24.png}\textbf{Figure
16 :} Menu Principal, s√©lection des donn√©es
(√©quilibr√©s)\includegraphics[width=6.26042in,height=1.79167in]{media/image25.png}\textbf{Figure
17 :} Menu Principal, Aper√ßu des donn√©es (√©quilibr√©s)

\includegraphics[width=6.26042in,height=1.72917in]{media/image26.png}\textbf{Figure
18 :} Menu Principal, s√©lection des donn√©es (√©quilibr√©s)

On peut noter sur cet ensemble plus √©quilibr√© que la repr√©sentation des
domaines est diff√©rente par rapport √† l'analyse pr√©c√©dente.

\includegraphics[width=6.26042in,height=1.23958in]{media/image27.png}\textbf{Figure
19 :} Test Anova, Diff√©rences Cat√©gories (√©quilibr√©s)

Les diff√©rences sont toujours significatives.

\includegraphics[width=6.26042in,height=3.48958in]{media/image28.png}\textbf{Figure
20 :} Intensit√© par Cat√©gories (√©quilibr√©s)

\includegraphics[width=6.26042in,height=3.48958in]{media/image29.png}\textbf{Figure
21 :} Taille de fichiers par cat√©gorie (√©quilibr√©s)

\includegraphics[width=6.26042in,height=1.72917in]{media/image30.png}\textbf{Figure
22 :} Corr√©lation des m√©triques (√©quilibr√©s)

\includegraphics[width=6.26042in,height=2in]{media/image31.png}\textbf{Figure
23 :} Recommandations Automatiques (√©quilibr√©s)

\includegraphics[width=6.26042in,height=1.78086in]{media/image32.png}\textbf{Figure
24 :} Repr√©sentation des donn√©es dans un espace 3D (√©quilibr√©s)

\section[G√©n√©ration images masqu√©es + Statistiques :
]{\texorpdfstring{\protect\hypertarget{anchor-42}{}{}\protect\hypertarget{anchor-43}{}{}\protect\hypertarget{anchor-44}{}{}G√©n√©ration
images masqu√©es + Statistiques :
}{G√©n√©ration images masqu√©es + Statistiques : }}\label{guxe9nuxe9ration-images-masquuxe9es-statistiques}

Cette fonctionnalit√© appel√©e par un notebook, permet de g√©n√©rer des
images masqu√©es √† l'aide d'images et de masques (nos datas).

Pendant cette op√©ration, des statistiques sont √©galement √©valu√©s et
repr√©sent√©es.

Voici les statistiques du masquage sur l'ensemble des donn√©es, avec un
param√®tre :

dsize = (256x256), ce qui correspond √† une image de 256x256 pixels.

\subsection[Exemple G√©n√©ration Image Masqu√© :
]{\texorpdfstring{\protect\hypertarget{anchor-45}{}{}Exemple G√©n√©ration
Image Masqu√© :
}{Exemple G√©n√©ration Image Masqu√© : }}\label{exemple-guxe9nuxe9ration-image-masquuxe9}

La fonction permet en lui donnant une image et un masque, de l'appliquer
pour g√©n√©rer une image masqu√©e, avec une possibilit√© de
redimensionnement de l'image.

\includegraphics[width=1.76399in,height=1.76399in]{media/image33.png}

\includegraphics[width=3.19068in,height=3.19068in]{media/image34.png}

\includegraphics[width=1.61033in,height=1.61033in]{media/image35.png}\\
\strut \\
\textbf{Figure 25 :} Exemple, Masquage des images

\subsection[\textbf{Arborescence Automatique :}
]{\texorpdfstring{\protect\hypertarget{anchor-46}{}{}\textbf{Arborescence
Automatique :}
}{Arborescence Automatique : }}\label{arborescence-automatique}

\hfill\break
\includegraphics[width=2.29215in,height=4.97321in]{media/image36.png}Afin
de pouvoir garder un environnement propre,\\
une arborescence automatique pour trier les √©l√©ments g√©n√©r√©s a √©t√© mise
en place.\\
\strut \\
Celle-ci g√©n√®re dans le dossier ''processed'':\\
\strut \\
Un premier dossier en fonctions de la r√©solution,\\
Exemple : 256x256 (Nom du dossier).\\
\strut \\
Ensuite, dans ce dossier, 4 autres sont cr√©√©es pour chacune des
cat√©gories :\\
- Covid\\
- Lung ( Opacity )\\
- Normal\\
- Pneumonia\\
\strut \\
Dans chacun de ces dossiers, on va g√©n√©rer des dossiers par type
d'√©l√©ments g√©n√©r√©s :\\
- Images redimensionn√©s\\
- Masques redimensionn√©s\\
- Images avec Masque appliqu√©\\
\strut \\
\strut \\

\section{\texorpdfstring{\protect\hypertarget{anchor-47}{}{}\protect\hypertarget{anchor-48}{}{}}{}}\label{section}

Etape 02: Pre-processing et features engineering:

\begin{itemize}
\tightlist
\item
  \protect\phantomsection\label{anchor-49}{}\protect\phantomsection\label{anchor-50}{}\protect\phantomsection\label{anchor-51}{}Redimensionnement
  et conversion en niveaux de gris :
\end{itemize}

\begin{quote}
\end{quote}

Dans la phase initiale du pr√©-processing des donn√©es, nous appliquons un
redimensionnement des images dont la dimension initiale est de 299
pixels, pour les r√©duire √† une taille uniforme de 256 pixels. Ce choix,
vise √† garantir une coh√©rence des entr√©es du mod√®le tout en facilitant
le traitement par lot et en r√©duisant la charge computationnelle. Ce
redimensionnement est r√©alis√© en utilisant des techniques
d'interpolation adapt√©es, telles que l'interpolation bicubique, afin de
pr√©server au mieux la qualit√© et les d√©tails pertinents des images.

Par la suite, la conversion de l'ensemble des images du format RGB vers
une repr√©sentation en niveaux de gris est effectu√©e. Cette
transformation r√©duit la dimension d'entr√©e des donn√©es de trois canaux
√† un seul, diminuant ainsi la complexit√© du mod√®le tout en conservant
l'essentiel de l'information structurelle pertinente, particuli√®rement
dans le contexte d'images m√©dicales o√π la couleur est souvent
secondaire. Cette √©tape est particuli√®rement judicieuse dans un cadre de
classification, car elle simplifie le signal d'entr√©e, r√©duit le bruit
potentiel li√© √† la variation chromatique, et permet d'optimiser les
performances des algorithmes d'apprentissage en concentrant l'analyse
sur les contrastes et textures essentielles √† la discrimination des
classes.

Le code utilis√© est dans la figure ci-dessous:(\textbf{Figure})

\includegraphics[width=6.26042in,height=2.34049in]{media/image37.png}
\textbf{ Figure 33 :} le code utilis√© pour le redimensionnement et la
conversion en niveau de gris

Un exemple des images de la classe pneumonie obtenue apr√®s conversion en
niveau de gris et redimensionnement est repr√©sent√© dans la figure
(Figure) suivante :

\includegraphics[width=3.1086in,height=3.18361in]{media/image38.png}

\includegraphics[width=2.17519in,height=2.21686in]{media/image39.png}

\textbf{Figure 34 :} Exemple d'une image de la classe pneumonie avant et
apr√®s redimensionnement et conversion

\begin{itemize}
\tightlist
\item
  \protect\phantomsection\label{anchor-52}{}Normalisation des pixels :
\end{itemize}

Apr√®s redimensionnement, la normalisation des valeurs de pixels est
essentielle pour aider les mod√®les d'apprentissage profond √† converger
rapidement, dans notre cas nous avons choisie de normaliser les pixels
dans une plage {[}-1,1{]}, le code utiliser est repr√©senter dans la
figure suivante : (Figure0)

\begin{quote}
\includegraphics[width=4.08219in,height=0.65625in]{media/image40.png}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\end{quote}

\begin{quote}
\textbf{Figure 35 : }Fonction de normalisation
\end{quote}

\begin{itemize}
\tightlist
\item
  \protect\phantomsection\label{anchor-53}{}Steven et Raphael
  Augmentation data
\end{itemize}

\subsection[select\_folders.py]{\texorpdfstring{\protect\hypertarget{anchor-54}{}{}select\_folders.py}{select\_folders.py}}\label{select_folders.py}

\subsubsection[üìÅ \textbf{Classe Python : S√©lecteur de dossiers pour
Jupyter Noteboo}k]{\texorpdfstring{\protect\hypertarget{anchor-55}{}{}üìÅ
\textbf{Classe Python : S√©lecteur de dossiers pour Jupyter
Noteboo}k}{üìÅ Classe Python : S√©lecteur de dossiers pour Jupyter Notebook}}\label{classe-python-suxe9lecteur-de-dossiers-pour-jupyter-notebook}

\begin{quote}
Ce code d√©finit une classe FolderSelector permettant de s√©lectionner
interactivement des dossiers dans un notebook Jupyter.
\end{quote}

\begin{quote}
Bien que Jupyter Notebook accepte les commandes input() (qui
s\textquotesingle affichent en haut du notebook), cette m√©thode peut
sembler contre-intuitive et peu ergonomique. Pour offrir une exp√©rience
utilisateur plus fluide, ce widget utilise les biblioth√®ques ipywidgets
et IPython.display afin de proposer une interface graphique int√©gr√©e
directement sous la cellule de code.
\end{quote}

\subsubsection[üîß \textbf{Fonctionnalit√©s
:}]{\texorpdfstring{\protect\hypertarget{anchor-56}{}{}üîß
\textbf{Fonctionnalit√©s
:}}{üîß Fonctionnalit√©s :}}\label{fonctionnalituxe9s}

\begin{itemize}
\tightlist
\item
  Ajout de chemins de dossiers valides via un champ de texte
\item
  Validation en temps r√©el de l\textquotesingle existence du dossier
\item
  Affichage des dossiers s√©lectionn√©s avec feedback visuel
\item
  Bouton "Terminer" pour valider la s√©lection et masquer automatiquement
  l\textquotesingle interface apr√®s 5 secondes
\end{itemize}

\subsubsection[üß© \textbf{Avantages par rapport √† input()
:}]{\texorpdfstring{\protect\hypertarget{anchor-57}{}{}üß©
\textbf{Avantages par rapport √† input()
:}}{üß© Avantages par rapport √† input() :}}\label{avantages-par-rapport-uxe0-input}

\begin{itemize}
\tightlist
\item
  Interface int√©gr√©e au flux du notebook
\item
  Feedback imm√©diat sur la validit√© des chemins
\item
  Masquage automatique apr√®s validation
\item
  Exp√©rience utilisateur am√©lior√©e
\end{itemize}

\subsubsection[üß©\textbf{ Utilisation
:}]{\texorpdfstring{\protect\hypertarget{anchor-58}{}{}üß©\textbf{
Utilisation :}}{üß© Utilisation :}}\label{utilisation}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{39}
\tightlist
\item
  Instancier la classe : selector = FolderSelector()
\item
  Afficher le widget : selector.afficher()
\item
  Ajouter les dossiers via l\textquotesingle interface
\item
  R√©cup√©rer les chemins via selector.chemins une fois selector.fini ==
  True
\end{enumerate}

\begin{quote}
\includegraphics[width=4.94427in,height=9.20769in]{media/image41.png}
\end{quote}

\begin{quote}
\textbf{Figure 36 : }Code de select\_folders.py
\end{quote}

\subsection[under\_sampling.ipynb]{\texorpdfstring{\protect\hypertarget{anchor-59}{}{}under\_sampling.ipynb}{under\_sampling.ipynb}}\label{under_sampling.ipynb}

\subsubsection[üîΩ\textbf{ Fonction Python
:}]{\texorpdfstring{\protect\hypertarget{anchor-60}{}{}üîΩ\textbf{
Fonction Python :}}{üîΩ Fonction Python :}}\label{fonction-python}

\subsubsection[Application d\textquotesingle undersampling sur des
images]{\texorpdfstring{\protect\hypertarget{anchor-61}{}{}Application
d\textquotesingle undersampling sur des
images}{Application d\textquotesingle undersampling sur des images}}\label{application-dundersampling-sur-des-images}

Cette fonction apply\_undersampling permet de r√©duire le nombre
d\textquotesingle images dans un dossier en s√©lectionnant al√©atoirement
un nombre d√©fini d\textquotesingle images. Cette technique, appel√©e
undersampling, est couramment utilis√©e en machine learning pour
√©quilibrer des jeux de donn√©es d√©s√©quilibr√©s.

\subsubsection[üîß\textbf{ Param√®tres
:}]{\texorpdfstring{\protect\hypertarget{anchor-62}{}{}üîß\textbf{
Param√®tres :}}{üîß Param√®tres :}}\label{paramuxe8tres}

data\_dir : chemin du dossier contenant les images sources

target\_count : nombre d\textquotesingle images souhait√© en sortie

output\_dir : dossier de destination des images s√©lectionn√©es

\subsubsection[üìã \textbf{Fonctionnement
:}]{\texorpdfstring{\protect\hypertarget{anchor-63}{}{}üìã
\textbf{Fonctionnement :}}{üìã Fonctionnement :}}\label{fonctionnement}

Liste toutes les images .png du dossier source, si le nombre
d\textquotesingle images d√©passe target\_count, en s√©lectionne
al√©atoirement

target\_count Copie les images s√©lectionn√©es dans le dossier de sortie,
cr√©e le dossier de sortie s\textquotesingle il n\textquotesingle existe
pas

\subsubsection[üì§ \textbf{Retour
:}]{\texorpdfstring{\protect\hypertarget{anchor-64}{}{}üì§ \textbf{Retour
:}}{üì§ Retour :}}\label{retour}

Liste des logs d√©taillant les op√©rations effectu√©es

\subsubsection[üí°\textbf{ Cas d\textquotesingle usage
:}]{\texorpdfstring{\protect\hypertarget{anchor-65}{}{}üí°\textbf{ Cas
d\textquotesingle usage
:}}{üí° Cas d\textquotesingle usage :}}\label{cas-dusage}

√âquilibrage de classes dans un dataset d\textquotesingle entra√Ænement

R√©duction de la taille d\textquotesingle un dataset trop volumineux

Pr√©paration de donn√©es pour l\textquotesingle apprentissage automatique

\includegraphics[width=6.26042in,height=5.35417in]{media/image42.png}

\begin{quote}
\textbf{Figure 37 : }Code de under\_sampling.ipynb
\end{quote}

\subsection[Main.ipynb]{\texorpdfstring{\protect\hypertarget{anchor-66}{}{}Main.ipynb}{Main.ipynb}}\label{main.ipynb}

\subsubsection[üîÑ \textbf{Script
principal}]{\texorpdfstring{\protect\hypertarget{anchor-67}{}{}üîÑ
\textbf{Script principal}}{üîÑ Script principal}}\label{script-principal}

Pipeline de traitement d\textquotesingle images avec undersampling

Ce script constitue le programme principal qui orchestre
l\textquotesingle ensemble du processus de traitement des images. Il
combine l\textquotesingle interface interactive de s√©lection de dossiers
avec l\textquotesingle application de la technique
d\textquotesingle undersampling, puis affiche un aper√ßu visuel des
r√©sultats.

\subsubsection[üîß\textbf{ Fonctionnement global
:}]{\texorpdfstring{\protect\hypertarget{anchor-68}{}{}üîß\textbf{
Fonctionnement global
:}}{üîß Fonctionnement global :}}\label{fonctionnement-global}

\paragraph[S√©lection interactive des dossiers sources
:]{\texorpdfstring{\protect\hypertarget{anchor-69}{}{}S√©lection
interactive des dossiers sources
:}{S√©lection interactive des dossiers sources :}}\label{suxe9lection-interactive-des-dossiers-sources}

Utilise la classe FolderSelector pour permettre √†
l\textquotesingle utilisateur de choisir les dossiers contenant les
images √† traiter

Interface graphique int√©gr√©e au notebook Jupyter

\paragraph[Application de l\textquotesingle undersampling
:]{\texorpdfstring{\protect\hypertarget{anchor-70}{}{}Application de
l\textquotesingle undersampling
:}{Application de l\textquotesingle undersampling :}}\label{application-de-lundersampling}

Pour chaque dossier s√©lectionn√©, applique la fonction
apply\_undersampling

R√©duit chaque dataset √† un nombre cible d\textquotesingle images
(target\_count = 4999)

Copie les images s√©lectionn√©es dans un dossier de sortie commun

\paragraph[Validation visuelle
:]{\texorpdfstring{\protect\hypertarget{anchor-71}{}{}Validation
visuelle :}{Validation visuelle :}}\label{validation-visuelle}

Affiche un √©chantillon al√©atoire d\textquotesingle images issues du
traitementPermet de v√©rifier visuellement la qualit√© et la coh√©rence des
images trait√©es

\paragraph[üìÅ \textbf{Gestion des chemins
:}]{\texorpdfstring{\protect\hypertarget{anchor-72}{}{}üìÅ
\textbf{Gestion des chemins
:}}{üìÅ Gestion des chemins :}}\label{gestion-des-chemins}

Calcule automatiquement le chemin racine du projet

Construit de mani√®re portable le chemin de sortie
(data/processed/Normal)

Assure la compatibilit√© multi-plateformes

\paragraph[üìä \textbf{Visualisation
:}]{\texorpdfstring{\protect\hypertarget{anchor-73}{}{}üìä
\textbf{Visualisation :}}{üìä Visualisation :}}\label{visualisation}

Affiche 5 images al√©atoires du dataset final

Utilise matplotlib pour une visualisation rapide dans le notebook

Titres des images pour identification facile

\paragraph[üéØ \textbf{Cas d\textquotesingle usage
:}]{\texorpdfstring{\protect\hypertarget{anchor-74}{}{}üéØ \textbf{Cas
d\textquotesingle usage
:}}{üéØ Cas d\textquotesingle usage :}}\label{cas-dusage-1}

Pr√©paration automatis√©e de datasets √©quilibr√©s

Pipeline de pr√©traitement pour l\textquotesingle apprentissage
automatique

Interface utilisateur intuitive dans l\textquotesingle environnement
Jupyter

\includegraphics[width=6.72972in,height=8.75446in]{media/image43.png}

\begin{quote}
\textbf{Figure 38 : }Code de Main.ipynb
\end{quote}

\begin{quote}
\includegraphics[width=4.25792in,height=7.96155in]{media/image44.png}
\end{quote}

\textbf{Figure 38 : }R√©sultat\textbf{ }de Main.ipynb

\subsection{over\_sampling.ipynb}\label{over_sampling.ipynb}

Pour ce qui est de l'Oversampling, nous avons voulu tester directement
avec Keras, et notamment la classe ImageDataGenerator, qui est faite
pour cette occasion.

Dans le code suivant, nous avons utilis√© des valeurs arbitraires, mais
qui sont celles que l'on a pu voir dans la documentation du module.

L'utilisation de la m√©thode flow\_from\_directory apporte deux avantages
majeurs :

\begin{itemize}
\tightlist
\item
  le chargement des images par batchs (ce qui permet alors directement
  d'anticiper la partie mod√©lisation)
\item
  la possibilit√© de redimensionner (target\_size) et convertir les
  images (color\_mode), d'un seul coup. C'est donc parfait pour nous
  initier √† ce type de workflow.
\end{itemize}

\includegraphics[width=6.16962in,height=6.63119in]{media/image45.png}

\textbf{Figure 39 : }Code\textbf{ }de over\_sampling.ipynb

\includegraphics[width=6.26042in,height=1.40625in]{media/image46.png}\textbf{Figure
40 :} R√©sultat\textbf{ }de over\_sampling.ipynb

Etape 03 : Mod√©lisation

Step 01 : Model Baseline

Un mod√®le baseline d√©signe un mod√®le simple ou rudimentaire utilis√© en
machine learning pour servir de point de comparaison aux mod√®les plus
complexes d√©velopp√©s par la suite. Son objectif principal n'est pas
d'obtenir la meilleure pr√©cision possible, mais d'√©tablir un niveau de
performance minimal que tout mod√®le plus sophistiqu√© doit d√©passer pour
√™tre jug√© pertinent. (https://www.lakera.ai/ml-glossary/baseline-models)

\begin{itemize}
\tightlist
\item
  Un mod√®le baseline en classification peut consister √† pr√©dire
  syst√©matiquement la classe majoritaire du jeu de donn√©es.
\item
  En r√©gression, il s'agira par exemple de pr√©dire la valeur moyenne ou
  m√©diane de la variable cible, quelle que soit l'entr√©e.
\end{itemize}

Les mod√®les baseline ne cherchent pas la performance, mais servent √†
√©valuer la difficult√© intrins√®que du probl√®me.

Exemples de mod√®les baseline~:

\begin{itemize}
\tightlist
\item
  Pour classification~: pr√©dire la classe majoritaire, pr√©dire au
  hasard, DummyClassifier.
\item
  Pour r√©gression~: pr√©dire la moyenne/m√©diane, DummyRegressor.
\end{itemize}

Nous avons choisi de tester les m√©thodes de machines learning suivantes
: SVM, KNN et Forest Random.

\textbf{SVM (Support Vector Machine):
}(\href{https://blent.ai/blog/a/modele-machine-learning-populaires}{\emph{https://blent.ai/blog/a/modele-machine-learning-populaires}})
(\textbf{Figure 41})

Un SVM (Support Vector Machine) est un algorithme supervis√© de
classification et de r√©gression.

Il cherche √† tracer une fronti√®re (hyperplan) qui s√©pare au mieux les
classes dans un espace de caract√©ristiques, en maximisant la "marge"
entre les points de chaque classe les plus proches de la fronti√®re (les
"vecteurs support").

C'est donc un mod√®le robuste, notamment pour les donn√©es de grande
dimension, qui peut aussi int√©grer des fonctions noyau ("kernel") pour
g√©rer la non-lin√©arit√© : il projette les donn√©es dans un espace de plus
grande dimension pour trouver une s√©paration optimale.

Utilis√© en binaire ou multiclasse, il est r√©put√© pour sa pr√©cision sur
des bases bien structur√©es.

\includegraphics[width=5.60417in,height=4.8125in]{media/image47.png}

\textbf{ Figure 41: Principe de fonctionnement du SVM }

K-Nearest Neighbors (KNN) :

Le KNN ("K plus proches voisins") est un algorithme non param√©trique
supervis√©.

Son principe~: pour une nouvelle donn√©e √† classer, il regarde les K
points les plus proches dans le jeu d'entra√Ænement (selon une mesure de
distance, souvent euclidienne).

Il attribue alors la classe la plus fr√©quente parmi ces voisins
("majorit√©") en classification, ou la moyenne pour la r√©gression.
(\textbf{Figure 42})

\includegraphics[width=5.65946in,height=2.98958in]{media/image48.png}

\textbf{ Figure 42 : Principe de fonctionnement des KNN}

Random Forest (For√™t d\textquotesingle Arbres D√©cisionnels) :

Le Random Forest est un algorithme "ensembliste" bas√© sur les arbres de
d√©cision.

Il construit une multitude d\textquotesingle arbres de d√©cision sur des
sous-√©chantillons al√©atoires des donn√©es (m√©thode du "bagging").

Chaque arbre fait une pr√©diction, et dans le cas de la classification,
la classe majoritaire parmi tous les arbres devient la pr√©diction finale
("vote majoritaire"). En r√©gression, c'est la moyenne des pr√©dictions.

Les arbres sont construits avec des sous-ensembles al√©atoires de
variables/features et de donn√©es, ce qui r√©duit le sur-apprentissage et
augmente la robustesse.

Le mod√®le est tr√®s performant pour les donn√©es tabulaires et mixte
(cat√©gorielles / num√©riques), mais peut-√™tre moins adapt√© √† des donn√©es
tr√®s √©parses ou avec beaucoup de valeurs manquantes. (\textbf{Figure
43})

\includegraphics[width=6.26042in,height=3.77083in]{media/image49.png}\textbf{Figure
43 : Principe de fonctionnement Random Forest}

Avantages et Inconv√©nients :

\begin{itemize}
\tightlist
\item
  \textbf{KNN~:} tr√®s simple, mais peu efficace sur des volumes
  importants ou en pr√©sence de bruit.
\item
  \textbf{SVM~:} performant et robuste sur petites/moyennes dimensions,
  mais co√ªteux et difficile √† r√©gler.
\item
  \textbf{Random Forest~:} g√©n√©raliste et pr√©cis, bien adapt√© aux
  donn√©es complexes, mais lourd en calcul et moins interpr√©table.
\end{itemize}

R√©sultats et Interpr√©tation :
